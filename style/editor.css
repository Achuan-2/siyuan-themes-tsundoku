/* --------------------------------------------------------------------------------------------- */
/* ------------------------------------å—æ ·å¼è®¾ç½®ï¼šStart-------------------------------------- */
/* --------------------------------------------------------------------------------------------- */

/* -------------------------------æ ‡é¢˜æ ·å¼------------------------------------- */
/* æ ‡é¢˜ä¸Šä¸‹å¢åŠ é—´è· */
.b3-typography .h1,
.b3-typography h1,
.b3-typography .h2,
.b3-typography h2,
.b3-typography .h3,
.b3-typography h3,
.b3-typography .h4,
.b3-typography h4,
.b3-typography .h5,
.b3-typography h5,
.b3-typography .h6,
.b3-typography h6,
.protyle-wysiwyg .h1,
.protyle-wysiwyg h1,
.protyle-wysiwyg .h2,
.protyle-wysiwyg h2,
.protyle-wysiwyg .h3,
.protyle-wysiwyg h3,
.protyle-wysiwyg .h4,
.protyle-wysiwyg h4,
.protyle-wysiwyg .h5,
.protyle-wysiwyg h5,
.protyle-wysiwyg .h6,
.protyle-wysiwyg h6 {
    margin: 10px 0;
}



/* 1. ä¸€çº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h1,
.b3-typography h1 {
    /* âš™ä¸€çº§æ ‡é¢˜åŸºæœ¬æ ·å¼*/
    text-align: center;
    /* æ ‡é¢˜å±…ä¸­ï¼Œå¦‚æœä¸éœ€è¦å¯ä»¥å–æ¶ˆ */
    border-bottom-width: 0px;
    font-size: 1.75em !important;
    padding: 0.3em 4px;
    color: var(--custom-h1-color) !important;
    border-bottom: 2px solid var(--custom-h1-color);
    /* margin-bottom: 1.5em; */
}

/* åˆ—è¡¨ä¸­çš„ä¸€çº§æ ‡é¢˜ä¸å±…ä¸­ */
.protyle-wysiwyg .li>[data-node-id].h1 {
    text-align: left;
}

/* æ ‡é¢˜1åŠ èƒŒæ™¯è‰²çš„æ ·å¼è°ƒæ•´ */
.protyle-wysiwyg [data-node-id].h1[style*="background-color"] {
    border-bottom: 0px solid transparent !important;
}

.protyle-wysiwyg [data-node-id].h1:not([style*="background-color"]) {
    border-radius: 0px !important;
}

/* 2. äºŒçº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h2,
.b3-typography h2 {
    /* âš™äºŒçº§æ ‡é¢˜åŸºæœ¬æ ·å¼ */
    border-bottom: 1px solid var(--custom-h2-border-color) !important;
    font-size: 1.45em !important;
    color: var(--custom-h2-color) !important;
    border-radius: 0px !important;
}

.protyle-wysiwyg .sb .h2,
.protyle-wysiwyg .li>[data-node-id].h2,
.b3-typography blockquote h2,
.b3-typography li h2 {
    /* ğŸ’„åˆ—è¡¨ã€è¶…çº§å—ä¸­çš„h2ä¸æ˜¾ç¤ºç«–çº¿ */
    border-bottom: 0px solid transparent !important;
}

/* 3. ä¸‰çº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h3,
.b3-typography h3 {
    font-size: 1.35em;
    color: var(--custom-h3-color) !important;
    text-align: left;
    font-weight: bold;
    padding-left: 8px;
    border-left: 5px solid var(--custom-h3-color);
    /* æ§åˆ¶ç«–çº¿é«˜åº¦ */
    /* line-height: 1.25; */
    height: 1.25 em;
}

.protyle-wysiwyg .h3>[spellcheck='false']:empty {
    /* emptyçš„é«˜åº¦éœ€è¦ç­‰äºline-height */
    height: 1.25em;
}

/* åˆ—è¡¨ä¸‹é€‚é… */
.protyle-wysiwyg [data-node-id].li>.protyle-action~.h3 {
    line-height: 1.2 !important;
    margin-bottom: 5px;
    /* height: 1.5em !important; */
}

.protyle-wysiwyg .li>.h3>[spellcheck='false']:empty {
    /* emptyçš„é«˜åº¦éœ€è¦ç­‰äºline-height */
    height: 1.5em;
}

/* æ ‡é¢˜3åŠ èƒŒæ™¯è‰²çš„æ ·å¼è°ƒæ•´ */
.protyle-wysiwyg [data-node-id].h3[style*="background-color"] {
    border-left: 0px solid transparent !important;
}

.protyle-wysiwyg [data-node-id].h3:not([style*="background-color"]) {
    border-radius: 0px !important;
}

/* 4. å››çº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h4,
.b3-typography h4 {
    font-size: 1.2em !important;
    color: var(--custom-h4-color) !important;
    /* background-color: #d8f9e6; */
    /* box-shadow: 2px 2px 2px var(--b3-table-border-color); */
}

/* 5. äº”çº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h5,
.b3-typography h5 {
    font-size: 1.1em !important;
    color: var(--custom-h5-color) !important;
    /* background-color: #bec6e891; */
    /* box-shadow: 2px 2px 2px var(--b3-table-border-color); */
}

/* 6. å…­çº§æ ‡é¢˜æ ·å¼setup */
.protyle-wysiwyg [data-node-id].h6,
.b3-typography h6 {
    font-size: 1.1em !important;
    color: var(--custom-h6-color) !important;
}

/* ğŸ’„æ ‡é¢˜åŠ ç²—æ ·å¼ */

/*åŠ ç²—æ˜¾ç¤º */
/* .protyle-wysiwyg [data-type="NodeHeading"] span[data-type="strong"] {
    text-shadow: 1px 1px 1px #002636b8;
} */

/* æ ‡é¢˜åŠ ç²—éšè— */
.protyle-wysiwyg [data-type='NodeHeading'] span[data-type='strong']:not([style]),
.protyle-wysiwyg [data-type='NodeHeading'] span[data-type='em']:not([style]) {
    color: inherit !important;
}

.b3-typography h1 span[data-type='strong'],
.b3-typography h2 span[data-type='strong'],
.b3-typography h3 span[data-type='strong'],
.b3-typography h4 span[data-type='strong'],
.b3-typography h5 span[data-type='strong'],
.b3-typography h6 span[data-type='strong'] {
    /* é¢„è§ˆæ ·å¼ */
    color: inherit;
}

/* æ·»åŠ èƒŒæ™¯è‰²çš„æ ‡é¢˜æ”¹è¿› */
.protyle-wysiwyg [data-node-id].h2[style*='background-color'] {
    border-bottom: none !important;
    border-radius: 5px !important;

}

/* å¼•è¿°å—çš„æ ‡é¢˜æ ·å¼æ”¹è¿› */
.protyle-wysiwyg .bq [data-node-id].h2 {
    border-bottom: none !important;
}

/* -------------------------------è¡¨æ ¼æ ·å¼------------------------------------- */

/* è¡¨æ ¼èƒŒæ™¯è®¾ç½® */

.b3-typography table,
.protyle-wysiwyg table {
    border-collapse: collapse;
}

.b3-typography .table table th,
.b3-typography .table table td,
.protyle-wysiwyg .table table th,
.protyle-wysiwyg .table table td {
    background-color: transparent !important;
}

.b3-typography table th,
.b3-typography table td,
.protyle-wysiwyg table th,
.protyle-wysiwyg table td {
    background-color: transparent !important;
}

.protyle-wysiwyg table tr th,
.b3-typography table tr th {
    border-collapse: collapse;
    border: 1px solid var(--b3-table-border-color);
}

.b3-typography table tr td,
.protyle-wysiwyg table tr td {
    border: 1px solid var(--b3-table-border-color);
}

/* è¡¨æ ¼æ–‡å­—æ¢è¡Œ */
.protyle-wysiwyg div.table[data-node-id] table {
    word-wrap: break-word;
}

/* è®¾ç½®è¡¨æ ¼æ¯åˆ—é»˜è®¤å®½åº¦ */
.protyle-wysiwyg div.table[data-node-id] table tr td {
    max-width: 620px;
}

/* -----------------------å—åµŒå…¥----------------------- */

.protyle-wysiwyg [data-node-id].render-node[data-type='NodeBlockQueryEmbed'] {
    background-color: #fff;
    box-shadow: 0px 0px 3px 2px rgb(135 148 186 / 38%);
    border-left: 0px dashed #dfe0e1;
    /* margin: 10px -10px; */
    padding: 4px 10px;
    margin-bottom: 12px;
    margin-top: 10px;
}

.protyle-wysiwyg [data-node-id].render-node[data-type='NodeBlockQueryEmbed']>.protyle-wysiwyg__embed {
    border-top: 3px dashed #0e5d12d6;
    position: relative;
}

/* -----------------------callout å—----------------------- */
/* éšè—è¾¹æ¡† */
.protyle-wysiwyg .callout:before{
    content: none;
}
.b3-typography blockquote[data-type="callout"][data-subtype="NOTE"],
.protyle-wysiwyg .callout[data-subtype="NOTE"] {
    background-color: rgba(from var(--b3-callout-note) r g b / .1);;
    border: 1px solid var(--b3-callout-note);
    border-radius: 7px !important;
}
.b3-typography blockquote[data-type="callout"][data-subtype="NOTE"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout[data-subtype="NOTE"]  .bq{
    border-radius: 0px !important;
    border-left: 0.3em solid var(--b3-callout-note) !important;
    color: var(--b3-callout-note);
}
.b3-typography blockquote[data-type="callout"][data-subtype="IMPORTANT"],
.protyle-wysiwyg .callout[data-subtype="IMPORTANT"] {
    background-color: rgba(from var(--b3-callout-important) r g b / .1);
    border: 1px solid var(--b3-callout-important);
    border-radius: 7px !important;
}

.b3-typography blockquote[data-type="callout"][data-subtype="IMPORTANT"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout[data-subtype="IMPORTANT"] .bq {
    border-radius: 0px !important;
    border-left: 0.3em solid var(--b3-callout-important) !important;
    color: var(--b3-callout-important);
}


.b3-typography blockquote[data-type="callout"][data-subtype="WARNING"],
.protyle-wysiwyg .callout[data-subtype="WARNING"] {
    background-color: rgba(from var(--b3-callout-warning) r g b / .1);
    border: 1px solid var(--b3-callout-warning);
    border-radius: 7px !important;
}

.b3-typography blockquote[data-type="callout"][data-subtype="WARNING"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout[data-subtype="WARNING"] .bq {
    border-radius: 0px !important;
    border-left: 0.3em solid var(--b3-callout-warning) !important;
    color: var(--b3-callout-warning);
}

.b3-typography blockquote[data-type="callout"][data-subtype="CAUTION"],
.protyle-wysiwyg .callout[data-subtype="CAUTION"] {
    background-color: rgba(from var(--b3-callout-caution) r g b / .1);
    border: 1px solid var(--b3-callout-caution);
    border-radius: 7px !important;
}

.b3-typography blockquote[data-type="callout"][data-subtype="CAUTION"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout[data-subtype="CAUTION"] .bq {
    border-radius: 0px !important;
    border-left: 0.3em solid var(--b3-callout-caution) !important;
    color: var(--b3-callout-caution);
}

.b3-typography blockquote[data-type="callout"][data-subtype="TIP"],
.protyle-wysiwyg .callout[data-subtype="TIP"] {
    background-color: rgba(from var(--b3-callout-tip) r g b / .1);
    border: 1px solid var(--b3-callout-tip);
    border-radius: 7px !important;
}

.b3-typography blockquote[data-type="callout"][data-subtype="TIP"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout[data-subtype="TIP"] .bq {
    border-radius: 0px !important;
    border-left: 0.3em solid var(--b3-callout-tip) !important;
    color: var(--b3-callout-tip);
}

/* calloutçš„å¼•è¿°å— */
.b3-typography blockquote[data-type="callout"] blockquote:not([data-type="callout"]),
.protyle-wysiwyg .callout .bq{
    background-color: transparent !important;
    background-image: none !important;
}
/* calloutçš„åŠ¨æ€å›¾æ ‡å¢å¤§ */
.protyle-wysiwyg .callout-img{
    height: 100%;
    width: 100%;
}
.protyle-wysiwyg .callout-icon:has(img[src^="api/icon/getDynamicIcon"]){
    width: 50px;
    height: 50px;
}
/* -----------------------blockquote å¼•è¿°å—----------------------- */

.b3-typography blockquote,
.protyle-wysiwyg [data-node-id].bq:not([style*='background-color']) {
    border-left: 0.35em solid var(--b3-font-background5);
    padding: 2px 4px;
    border-radius: 0px 7px 7px 0px !important;
}


/* 3.1.12 å¼•è¿°å—æœ‰äº†beforeå…ƒç´  */
.b3-typography blockquote:before,
.b3-typography .bq:before,
.protyle-wysiwyg blockquote:before,
.protyle-wysiwyg .bq:before {
    content: none;
}

.protyle-wysiwyg [data-node-id].bq>.bq {
    border: none;
    border-left: 0.3em solid var(--b3-font-background5);
    border-radius: 0px !important;
    background: transparent !important;
}

/* .bq .code-block {
    background: #f6f8fa66 !important;
} */

.protyle-wysiwyg [data-node-id].bq[style*='background-color'],
.b3-typography blockquote[style*='background-color'] {
    border: 1px solid var(--custom-blockquote-border-color) !important;
    border-radius: 7px !important;
}

/* blockquote ç¼©è¿›è°ƒæ•´ */
.protyle-wysiwyg [data-node-id].bq>div:not(.code-block) {
    padding-left: 0.6rem;
}

.protyle-wysiwyg [data-node-id].bq>div.bq {
    margin-left: 1rem;
    padding-left: 0em;
}

.protyle-wysiwyg [data-node-id].bq div.code-block {
    /* margin-left: 1rem; */
}

.protyle-wysiwyg [data-node-id].li .bq>.list {
    margin-left: 0px;
}

/* è°ƒæ•´åˆ—è¡¨ä¸‹å¼•è¿°å—å°ç«–çº¿ */
.protyle-wysiwyg [data-node-id].li>.bq {
    left: 0.05em;
    top: -1px;
}

.block__popover .protyle-wysiwyg [data-node-id].li>.bq,
.protyle-wysiwyg .protyle-wysiwyg__embed [data-node-id].li>.bq {
    left: 0.1em;
    top: -1px;
}

/* ç¼©è¿›è°ƒæ•´ */
.b3-typography blockquote>p,
.b3-typography blockquote .code-block,
.b3-typography blockquote ul,
/* .b3-typography blockquote li, */
.b3-typography blockquote blockquote {
    margin-left: 0.5em;
}

/*  ------------------------------å›¾ç‰‡ ------------------------------ */


.protyle-wysiwyg img:hover,
.p [contenteditable='true']:focus>.img:first-child img {
    box-shadow: 1px 1px 5px 5px rgba(6, 6, 6, 10%);
}

/* å›¾ç‰‡å¤§å°è°ƒæ•´æ‰‹æŸ„ */
.protyle-wysiwyg [data-node-id] .img .protyle-action__drag {
    height: 50%;
    top: 25%;
    background: var(--b3-theme-surface);
}

/* å»é™¤å›¾ç‰‡åçš„å¤šä½™ç©ºè¡Œ CSSç‰‡æ®µ */
:is(.b3-typography, .protyle-wysiwyg) .img:not([style]) {
    display: inline-block;
}

/*  ------------------------------åˆ—è¡¨ ------------------------------ */
/* è°ƒæ•´åˆ—è¡¨é—´è· */
.protyle .li {
    padding: 0;
    margin: 0px 0px 0px 0px;
}

.b3-typography ul li.protyle-task::before {
    margin: 2px 2px 0px -2px;
}

/* åˆ—è¡¨æ‚¬æµ® */
.protyle-wysiwyg [data-node-id].li>.protyle-action:hover:after {
    /* å¤§åœ†èƒŒæ™¯ */
    background-color: #b4cef09c !important;
    opacity: 0.68;
}

.protyle-wysiwyg [data-node-id].li>.protyle-action:hover {
    /* å°åœ†ç‚¹ */
    color: #476796bb;
}

/* åˆ—è¡¨æŠ˜å  */
.protyle-wysiwyg .li[fold='1']>.protyle-action:after {
    /* å¤§åœ†èƒŒæ™¯ */
    background-color: #667ea97d !important;
    opacity: 0.68;
}

.protyle-wysiwyg [data-subtype='t'].li[fold='1']>.protyle-action:after {
    /* å¤§åœ†èƒŒæ™¯ */
    background-color: #667ea97d !important;
    border-radius: 0.2em;
    opacity: 0.68;
}

.protyle-wysiwyg [data-subtype='u'].li[fold='1']>.protyle-action {
    /* å°åœ†ç‚¹ */
    color: #476796;
}

/*  ------------------------------å¤é€‰æ¡†ï¼ˆå¾…åŠäº‹é¡¹ï¼‰ ------------------------------ */
.b3-typography .protyle-task input {
    opacity: 1;
}

/* å¾…åŠäº‹é¡¹çš„é¼ æ ‡å…‰æ ‡ä¸ºç‚¹å‡» */
.protyle-wysiwyg [data-node-id].li>.protyle-action--task {
    cursor: pointer;
}

.protyle-wysiwyg [data-node-id].li>.protyle-action--task svg {
    opacity: 0;
}

.protyle-wysiwyg [data-node-id].li>.protyle-action--task:hover:after {
    background-color: transparent !important;
    opacity: 0 !important;
}

/* å¤é€‰æ¡†æ ·å¼ */
.protyle-wysiwyg .protyle-action--task:before {
    content: '';
    position: absolute;
    display: inline-block;
    cursor: pointer;
    width: 1em;
    height: 1em;
    vertical-align: middle;
    text-align: center;
    border: 1.7px solid #5f6368;
    border-radius: 0.2em;
    top: 0.65em;
    font-size: 0.8em;
}

.b3-typography .protyle-task:before {
    left: -1.2em;
    top: 0.5em;
}

/* å¤é€‰æ¡†é€‰ä¸­ */
.protyle-task--done>.protyle-action--task:before {
    content: '\2713';
    font-size: 0.8em;
    font-weight: bold;
    border: 1.7px solid #289aa2;
    line-height: 1em;
    color: #289aa2;
    background-color: transparent;
}

/* å¤é€‰æ¡†é¼ æ ‡æ‚¬åœ */
.protyle-wysiwyg [data-node-id].li>.protyle-action--task:hover:before {
    content: '\2713';
    font-size: 0.8em;
    vertical-align: middle;
    line-height: 1em;
    color: #436681;
}

.protyle-task--done[fold='1']>.protyle-action--task:before {
    content: '\2713';
    background-color: transparent;
    color: #476796;
}

div[data-subtype='t'][data-type='NodeList'] {
    position: relative;
}

/* è°ƒæ•´é€æ˜åº¦ */
.protyle-task--done {
    opacity: 1;
    transition: opacity 0.5s ease-in-out;
}

.protyle-task--done .protyle-task--done {
    opacity: 1;
    transition: opacity 0.5s ease-in-out;
}

.protyle-task--done div[data-type='NodeParagraph'],
.protyle-task--done .protyle-action--task {
    opacity: 1;
}

/* ------------------------------è¶…çº§å—------------------------------ */
/* è°ƒæ•´è¶…çº§å—çš„å—é—´è· */
/* è°ƒæ•´è¶…çº§å—çš„å—é—´è· */
/* æ•ˆæœï¼š
- è¶…çº§å—å†…çš„æ¨ªæ’å—æ·»åŠ é—´è·ï¼Œ
- è¶…çº§å—ä¸æ™®é€šå—é—´è·ä¸€è‡´
- è¶…çº§å—ä¸è¶…çº§å—ç›´æ¥æ·»åŠ é—´è·
 */
.protyle-wysiwyg>.sb {
    /* è¶…çº§å—ä¸æ™®é€šå—é—´è·ä¸€è‡´  */
    padding: 4px 0px !important;
}

.protyle-wysiwyg .sb[data-sb-layout='col']>div[data-node-id] {
    /* è¶…çº§å—å†…å—éƒ½è®¾ç½®å³margin */
    margin: 4px 4px 4px 0px;
    /* padding: 0px; */
    border-radius: 3px;
}

.protyle-wysiwyg .sb[data-sb-layout='col']>div[data-node-id]:nth-last-child(2) {
    /* è¶…çº§å—å†…æœ€åä¸€ä¸ªå—æ— å³margin */
    margin: 4px 0px 4px 0px;
}


.protyle-wysiwyg [data-node-id].sb[data-sb-layout='col']>.sb:nth-last-child(2) {
    /* è¶…çº§å—ä¸è¶…çº§å—é—´è·ï¼Œæœ€åä¸€ä¸ªè¶…çº§å—æ— å³margin */
    margin: 0px;
}

/* è°ƒæ•´è¶…çº§å—çš„å—é—´è·  END*/

/* -----------------------åˆ†å‰²çº¿----------------------- */
.protyle-wysiwyg [data-node-id].hr>div {
    text-align: center;
}

.protyle-wysiwyg [data-node-id].hr>div:after {
    height: 8px !important;
    background-color: transparent !important;
    background-image: url(/appearance/themes/Tsundoku/src/hr/hr2.png);
    background-repeat: no-repeat;
    /* è®©èƒŒæ™¯å±…ä¸­ */
    background-position: center;
}

/* --------------------------------------------------------------------------------------------- */
/* ------------------------------------å—æ ·å¼è®¾ç½®ï¼šEnd-------------------------------------- */
/* --------------------------------------------------------------------------------------------- */

/* --------------------------------------------------------------------------------------------- */
/* ------------------------------------è¡Œå†…å—å­—ä½“æ ·å¼-------------------------------------- */
/* --------------------------------------------------------------------------------------------- */

/* -----------------------é«˜äº®----------------------- */

mark {
    background-color: var(--b3-protyle-inline-mark-background);
    color: var(--b3-protyle-inline-mark-color);
}

/* æœç´¢é«˜äº® */
[data-theme-mode="dark"] .b3-list mark,
[data-theme-mode="dark"] .protyle-wysiwyg [data-node-id] span[data-type~=search-mark] {
    background-color: var(--b3-protyle-inline-mark-background);
    color: var(--b3-protyle-inline-mark-color);
}

/* [data-theme-mode="light"] .b3-list mark,
[data-theme-mode="light"] .protyle-wysiwyg [data-node-id] .def--mark,
[data-theme-mode="light"] .protyle-wysiwyg [data-node-id] span[data-type~=search-mark] {
    background-color: #ffdb98;
    color: var(--b3-protyle-inline-mark-color);
} */

/* ç¼–è¾‘å™¨é«˜äº® */
.protyle-wysiwyg span[data-type~='mark'] {
    /* color: var(--b3-protyle-inline-mark-color);
    transition: color 0.2s ease-in-out;
    background-color: var(--b3-card-success-background);
    border-bottom: 2px solid var(--b3-font-color4); */
    background: var(--b3-protyle-inline-mark-background);
    /* box-shadow: 0 -0.3em 0 0 inset var(--b3-protyle-inline-mark-background),
        0 0.1em 0 0 var(--b3-protyle-inline-mark-background); */
    border-bottom: 2px solid var(--b3-font-color4) !important;
    color: inherit;
}

/* -----------------------åŠ ç²—----------------------- */
.protyle-wysiwyg span[data-type~='strong'] {
    color: inherit;
}



/* -----------------------å—å¼•ç”¨----------------------- */
.protyle-wysiwyg [data-node-id] span[data-type~=block-ref]:not(.av__celltext),
.protyle-wysiwyg [data-node-id] span[data-type~=file-annotation-ref] {
    opacity: 1;
}

.protyle-wysiwyg [data-node-id] span[data-type~='block-ref'] {
    /*æ›´æ”¹é¢œè‰²*/
    color: var(--b3-protyle-inline-blockref-color);
    padding-bottom: 0em;
    height: 1.5em;
    opacity: 1;
    border-bottom: 1px dashed var(--b3-protyle-inline-blockref-color);
}

/* é™æ€é”šæ–‡æœ¬å—å¼•æ ·å¼    */
.protyle-wysiwyg [data-node-id] span[data-type~='block-ref'][data-subtype="s"] {
    border-bottom: 1px dotted var(--b3-protyle-inline-blockref-color);
}

.protyle-wysiwyg [data-node-id] span[data-type~='block-ref']:hover {
    color: var(--b3-protyle-inline-blockref-hover-color);
    /*æ›´æ”¹é¼ æ ‡æ‚¬æµ®çš„é¢œè‰²*/
    border-bottom-color: var(--b3-protyle-inline-blockref-hover-color);
    /*ä¸‹åˆ’çº¿å¯ä»¥å»æ‰*/
}

/* å—å¼•ç”¨å‰åæ·»åŠ ç¬¦å· */
/* .protyle-wysiwyg [data-node-id] span[data-type~='block-ref']::before {
    content: 'â¸¢';
    color: var(---b3-font-color3);
}
.protyle-wysiwyg [data-node-id] span[data-type~='block-ref']::after {
    content: 'â¸¥';
    color: var(---b3-font-color3);
} */

/* å—å¼•ç”¨æ‚¬æµ®åŠ¨ç”» */
.block__popover.block__popover--move.block__popover--open {
    animation: showBlock 0.4s ease;
}

@keyframes showBlock {
    0% {
        border-radius: 50%;
        /* transform: rotateY(80deg); ä¼šä½ç½®åå·¦ */
        /* transform: rotateX(80deg); */
        /* transform: rotateY(80deg); */
    }

    100% {
        border-radius: 0;
    }
}

div[data-type='block-render'] {
    margin-top: 5px;
}

/* å—å¼•å¼¹çª—å›ºå®šé«˜åº¦ */

.block__popover.block__popover--move.block__popover--open {
    min-height: 30%;
}

/* æ·»åŠ å—å¼•ç”¨é’‰ä½å›¾æ ‡åŠ¨ç”» */
.block__popover--move .block__icon .ft__primary {
    transform: rotate(30deg) !important;
    transition: all 0.2s ease-out;
}

/* sqlæŸ¥æ‰¾ä¸åˆ°å­—ä½“é¢œè‰²*/
div[data-type='NodeBlockQueryEmbed'] .ft__secondary {
    color: #ff7875;
    font-weight: 800;
}

/* æ–‡ä»¶æ ‘ä¸­åŒºåˆ«æ–‡ä»¶æ•°å’Œå¼•ç”¨æ•° */
li[data-type='navigation-file'] .counter {
    color: var(--b3-protyle-inline-blockref-color);
    /* background-color: #dfdfdf9e; */
    font-weight: 600;
    background: transparent !important;
}

/* å†…å®¹ä¸­è®¡æ•° */
.protyle-attr--refcount,
.protyle-wysiwyg .protyle-attr--refcount {
    margin-left: 8px;
    line-height: 16px;
    color: var(--b3-protyle-inline-blockref-color);
    border-radius: 20%;
    font-size: 12px;
    user-select: none;
    font-weight: 600;
    cursor: pointer;
}

/* ------------------------------æ ‡ç­¾  ------------------------------*/
.protyle-wysiwyg [data-node-id] span[data-type~='tag']:not(:empty) {
    border-bottom: 0px solid var(--b3-protyle-inline-tag-color);
    font-size: 85%;
    text-decoration: none !important;
    color: var(--b3-protyle-inline-tag-color);
    background-color: var(--b3-protyle-inline-tag-background);
    border-radius: 0.3em;
    padding: 0em 0.375em 0.08em;
    margin: 0em 0.25em;
}

/* æ ‡ç­¾#å· */
.protyle-wysiwyg [data-node-id] span[data-type~='tag']:not(:empty)::before {
    content: '#';
}

.protyle-wysiwyg [data-node-id] span[data-type~='tag']:hover {
    background-color: var(--custom-tag-hover-color);
}

/* æ ‡ç­¾å›¾ç‰‡å¯¼å‡º */
.export-img .protyle-wysiwyg [data-node-id] span[data-type~='tag']:before {
    content: '' !important;
}

.export-img .protyle-wysiwyg [data-node-id] span[data-type~='tag']:not(:empty) {
    padding: 0em 0em 0.08em 0em;
    margin: 0em;
}

.export-img .protyle-wysiwyg [data-node-id] span[data-type~='tag']:first-child::before {
    content: '#' !important;
}

.export-img .protyle-wysiwyg [data-node-id] span[data-type~='tag']:first-child {
    margin-left: 0.25em !important;
    padding: 0em 0em 0.08em 0.375em !important;
    border-radius: 0.3em 0em 0em 0.3em !important;
}

.export-img .protyle-wysiwyg [data-node-id] span[data-type~='tag']:last-child {
    border-radius: 0em 0.3em 0.3em 0em !important;
    padding: 0em 0.375em 0.08em 0em !important;
}

/* æ–‡æ¡£æ ‡ç­¾ */
.protyle-background__tags .item {
    padding: 1px 5px;
    font-size: 14px;
}

.protyle-background__tags .item:hover {
    transform: scale(1.1);
}

/*  ------------------------------è¡Œå†…ä»£ç  ------------------------------ */
.b3-typography code:not(.hljs),
.b3-typography span[data-type~='code'],
.protyle-wysiwyg code:not(.hljs),
.protyle-wysiwyg span[data-type~='code'] {
    margin: 0px 2px 0px;
    top: -0.1em;
    color: var(--b3-protyle-inline-code-color);
    font-size: 80%;
    word-break: break-all;
    background-color: var(--b3-protyle-inline-code-background);
}

#preview .protyle-wysiwyg span[data-type~='code'] {
    margin: 0px;
}

/* è°ƒæ•´kbdæ ‡ç­¾ */
.b3-typography kbd,
.protyle-wysiwyg kbd,
.protyle-wysiwyg span[data-type~='kbd'] {
    display: inline-flex;
    padding: 2px 4px;
    margin: 0px 2px;
    font-size: 85%;
    background-color: #f3f3f3;
    box-shadow: 0 0 1px #415f86;
    transform: translateY(-1.5px);
}

/*  ------------------------------è¶…é“¾æ¥ ------------------------------ */

.protyle-wysiwyg [data-node-id] span[data-type~='a'] {
    color: var(--b3-protyle-inline-link-color);
    cursor: pointer;
    border-bottom: 1px solid var(--custom-link-bottom-color);
    word-break: break-all;
}

.b3-typography a {
    word-break: break-all;
    color: var(--b3-protyle-inline-link-color);
}

.protyle-wysiwyg [data-node-id] span[data-type~='a']:hover {
    color: var(--b3-protyle-inline-link-hover-color);
    border-bottom: 2px solid var(--b3-protyle-inline-link-hover-color);
}

[data-theme-mode="light"] .protyle-wysiwyg [data-node-id] span[data-type~='a']:hover {
    background-color: #f1f9ff;
}

.protyle-wysiwyg [data-node-id] span[data-type~='a']:hover code {
    color: var(--b3-protyle-inline-link-hover-color);
}

/* è¶…é“¾æ¥å¤ªé•¿break all æ¢è¡Œ */
.protyle-wysiwyg a,
.b3-typography a {
    word-break: break-all !important;
}

/*  ------------------------------ä¸‹åˆ’çº¿ ------------------------------ */

/* ä¸‹åˆ’çº¿åŠ ç²— */
/* .b3-typography u,
.b3-typography span[data-type~=u],
.protyle-wysiwyg u,
.protyle-wysiwyg span[data-type~=u] {
    border-bottom: 2px solid;
} */
.b3-typography u,
.b3-typography span[data-type~=u],
.protyle-wysiwyg u,
.protyle-wysiwyg span[data-type~=u] {
    text-decoration-style: wavy !important;
    text-decoration: underline;
    border-bottom: none;
    text-decoration-color: var(--b3-font-color3);
}
/*  ------------------------------è®¾ç½®å¤‡æ³¨æ ·å¼ ------------------------------ */
.b3-typography span[data-type~='inline-memo'],
.protyle-wysiwyg span[data-type~='inline-memo'] {
    background-color: transparent;
    border-bottom: 3px solid var(--b3-font-color1);
}

.tooltip--memo {
    border-top: 3px solid #eec175;
    background-color: #ffedcf;
    padding: 1rem 1rem;
    font-size: 1rem;
    color: var(--b3-theme-on-background);
    min-width: 100px;
}

/*  ------------------------------pdfåŒé“¾ ------------------------------ */

.protyle-wysiwyg [data-node-id] span[data-type='file-annotation-ref'] {
    color: #d2757d;
    padding-bottom: 0em;
    box-sizing: border-box;
    height: 1.5em;
    opacity: 1;
    border-bottom: 1px dashed #d2757d;
}

.protyle-wysiwyg [data-node-id] span[data-type='file-annotation-ref']:hover {
    color: var(--b3-protyle-inline-blockref-hover-color);
    /*æ›´æ”¹é¼ æ ‡æ‚¬æµ®çš„é¢œè‰²*/
    border-bottom: 1px dashed var(--b3-protyle-inline-blockref-hover-color);
    /*ä¸‹åˆ’çº¿å¯ä»¥å»æ‰*/
}

/* pdfæœç´¢é«˜äº® */
.textLayer .highlight.selected {
    background-color: #ffa938b9;
}

/* pdfæ‚¬æµ®å·¥å…·æ æ ·å¼ */
.pdf__util.b3-menu.pdf__util--hide {
    padding: 2px 4px 5px;
    border: 2px solid rgba(0, 0, 0, 0.63);
}

.pdf__util.b3-menu .fn__flex {
    padding: 6px 4px 0px !important;
}

/* è‡ªå®šä¹‰é¢œè‰²é€‰æ¡†è°ƒæ•´å®½é«˜ */

.b3-color__square {
    height: 23px;
    width: 23px;
    border-radius: 4px;
}

.b3-color__square[data-type='color'] {
    /* background: no-repeat round url('/appearance/themes/Tsundoku/src/a1.svg'); */
    box-shadow: 0 0 0 1.5px var(--b3-border-color) inset;
}

.b3-color__square[data-type='backgroundColor'] {
    /* background: no-repeat round url('/appearance/themes/Tsundoku/src/a2.svg'); */
    box-shadow: 0 0 0 1.5px var(--b3-border-color) inset;
}

.b3-color__square:hover {
    transform: scale(1.1);
    box-shadow: 0 0 1.5px 1px var(--b3-theme-on-background) inset;
}

.pdf__util.b3-menu {
    /* é˜´å½±å‡å° */
    box-shadow: 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 9px 46px 8px rgba(0, 0, 0, 0.12);
}

.pdf__util.b3-menu .b3-color__square {
    height: 25px;
    width: 25px;
    border-radius: 10px;
    box-shadow: 0 0 0 2px #334b4b inset;
}

/* pdfå…‰æ ‡é€‰ä¸­æ–‡æœ¬æ ·å¼ */
.pdf__outer ::selection {
    /* é¢œè‰²ä¸èƒ½åŠ é€æ˜åº¦ï¼Œä¸ç„¶æœ‰å åŠ å±‚  */
    background-color: #dcedf5;
}

/* pdfçŸ©å½¢é€‰æ¡†å¢åŠ borderå®½åº¦ */
.pdf__rect.popover__block>div[style*='border: 2px solid var(--b3-pdf-'] {
    border-width: 3px !important;
}

.pdf__resize {
    border-width: 3px !important;
}

/* --------------------------------------------------------------------------------------------- */
/* ------------------------------------è¡Œå†…å—å­—ä½“æ ·å¼ï¼šEnd-------------------------------------- */
/* --------------------------------------------------------------------------------------------- */

